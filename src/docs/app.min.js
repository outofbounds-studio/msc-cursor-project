!function(){"use strict";document.addEventListener("DOMContentLoaded",(function(){let e,t=!1;CustomEase.create("msc-ease","0.625, 0.05, 0, 1");function o(){let e=$(".work_item"),t=1/3*100+"%",o=2/3*100+"%";e.filter(":nth-child(odd)").each((function(e){let i=$(this),n=$(this).next(),r=$("<div class='work_row'></div>"),a=$("<div class='work_flex'></div>");r.insertBefore(i),a.appendTo(r),i.add(n).appendTo(a);let s=0;e%2!=0&&(s=1),gsap.matchMedia().add("(min-width: 992px)",(()=>{let e={value:s},a=gsap.timeline({paused:!0,defaults:{ease:"none"}});function l(t){gsap.to(e,{value:t,ease:"sine.out",duration:.4,onUpdate:()=>a.progress(e.value)})}a.fromTo(i,{width:o},{width:t}),a.fromTo(n,{width:t},{width:o},"<"),a.from(i.find(".work_image"),{scale:1.2},"<"),a.to(n.find(".work_image"),{scale:1.2},"<"),a.progress(s),r.on("mousemove",(function(e){let t=e.clientX/window.innerWidth;t=gsap.utils.normalize(.2,.8,t),l(t)})),r.on("mouseleave",(function(e){l(s)}))}))}))}function i(e){console.log("Changing theme to:",e);const t=gsap.timeline();return t.set("body",{attr:{"element-theme":e}}),t.to("body",{backgroundColor:"var(--color--background)",duration:.5,ease:"power2.out"}),t}function n(){const e=document.querySelector(".nav_bar"),t=e?e.offsetHeight/2:0;ScrollTrigger.create({trigger:"[data-theme-section]",start:`top ${t}px`,toggleActions:"play none none reverse",onEnter:e=>{i(e.trigger.getAttribute("data-theme-section"))},onLeaveBack:e=>{i("dark"===e.trigger.getAttribute("data-theme-section")?"light":"dark")}})}function r(){function e(){var e=document.querySelectorAll("[data-theme-section]"),t=document.querySelector(".nav_bar"),o=t?t.offsetHeight/2:0;e.forEach((function(e){var t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom;t<=o&&n>=o&&i($(e).attr("data-theme-section"))}))}e(),barba.hooks.beforeLeave((()=>{document.removeEventListener("scroll",checkThemeSection),t=!1,console.log("Theme check stopped; listeners removed."),ScrollTrigger.getAll().forEach((e=>e.kill()))})),barba.hooks.after((()=>{console.log("After transition hook triggered."),e(),t||(document.addEventListener("scroll",checkThemeSection),t=!0,console.log("Theme check started; listeners reattached.")),console.log("Theme checked and listeners started post-transition.")}))}function n(){const e=document.querySelector(".nav_bar"),t=e?e.offsetHeight/2:0;ScrollTrigger.create({trigger:"[data-theme-section]",start:`top ${t}px`,toggleActions:"play none none reverse",onEnter:e=>{i(e.trigger.getAttribute("data-theme-section"))},onLeaveBack:e=>{i("dark"===e.trigger.getAttribute("data-theme-section")?"light":"dark")}})}function a(){document.querySelectorAll("[data-vimeo-bg-init]").forEach((function(e,t){const o=e.getAttribute("data-vimeo-video-id");if(!o)return;const i=`https://player.vimeo.com/video/${o}?api=1&background=1&autoplay=1&loop=1&muted=1`;e.querySelector("iframe").setAttribute("src",i);const n="vimeo-player-index-"+t;e.setAttribute("id",n);const r=e.id,a=new Vimeo.Player(r);let s;function l(){const t=e.offsetHeight/e.offsetWidth*100,o=e.querySelector(".vimeo-bg__iframe-wrapper");o&&s&&(o.style.width=t>100*s?t/(100*s)*100+"%":"")}a.setVolume(0),a.on("bufferend",(function(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-loaded","true")})),"true"===e.getAttribute("data-vimeo-update-size")&&a.getVideoWidth().then((function(t){a.getVideoHeight().then((function(o){s=o/t;const i=e.querySelector(".vimeo-player__before");i&&(i.style.paddingTop=100*s+"%")}))})),"true"===e.getAttribute("data-vimeo-update-size")?(l(),a.getVideoWidth().then((function(){a.getVideoHeight().then((function(){l()}))}))):l(),window.addEventListener("resize",l)}))}function s(){$(".slider-main_component").each((function(e){let t=!1;"true"===$(this).attr("loop-mode")&&(t=!0);let o=450;void 0!==$(this).attr("slider-duration")&&(o=+$(this).attr("slider-duration")),new Swiper($(this).find(".swiper")[0],{speed:o,loop:t,autoHeight:!1,centeredSlides:t,followFinger:!0,freeMode:!1,slideToClickedSlide:!1,slidesPerView:1,spaceBetween:"4%",rewind:!1,mousewheel:{forceToAxis:!0},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{480:{slidesPerView:1,spaceBetween:"4%"},768:{slidesPerView:2,spaceBetween:"4%"},992:{slidesPerView:3.5,spaceBetween:"1%"}},pagination:{el:$(this).find(".swiper-bullet-wrapper")[0],bulletActiveClass:"is-active",bulletClass:"swiper-bullet",bulletElement:"button",clickable:!0},navigation:{nextEl:$(this).find(".swiper-next")[0],prevEl:$(this).find(".swiper-prev")[0],disabledClass:"is-disabled"},scrollbar:{el:$(this).find(".swiper-drag-wrapper")[0],draggable:!0,dragClass:"swiper-drag",snapOnRelease:!0},slideActiveClass:"is-active",slideDuplicateActiveClass:"is-active"})}))}function l(){$(".slider-testimonial_component").each((function(e){let t=!1;"true"===$(this).attr("loop-mode")&&(t=!0);let o=450;void 0!==$(this).attr("slider-duration")&&(o=+$(this).attr("slider-duration")),new Swiper($(this).find(".swiper")[0],{speed:o,loop:t,autoHeight:!1,centeredSlides:t,followFinger:!0,freeMode:!1,slideToClickedSlide:!1,slidesPerView:1,spaceBetween:"4%",rewind:!1,mousewheel:{forceToAxis:!0},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{480:{slidesPerView:1,spaceBetween:"4%"},768:{slidesPerView:2,spaceBetween:"4%"},992:{slidesPerView:4,spaceBetween:"1%"}},pagination:{el:$(this).find(".swiper-bullet-wrapper")[0],bulletActiveClass:"is-active",bulletClass:"swiper-bullet",bulletElement:"button",clickable:!0},navigation:{nextEl:$(this).find(".swiper-next")[0],prevEl:$(this).find(".swiper-prev")[0],disabledClass:"is-disabled"},scrollbar:{el:$(this).find(".swiper-drag-wrapper")[0],draggable:!0,dragClass:"swiper-drag",snapOnRelease:!0},slideActiveClass:"is-active",slideDuplicateActiveClass:"is-active",on:{slideChange:function(){this.slides.forEach((e=>{e.classList.remove("is-active")})),this.slides[this.activeIndex].classList.add("is-active")}}})}))}function c(){document.querySelectorAll('[data-tabs="wrapper"]').forEach((e=>{const t=e.querySelectorAll('[data-tabs="content-item"]'),o=e.querySelectorAll('[data-tabs="visual-item"]'),i="true"===e.dataset.tabsAutoplay,n=parseInt(e.dataset.tabsAutoplayDuration)||5e3;let r=null,a=null,s=!1,l=null;function c(e){if(s||t[e]===r)return;s=!0,l&&l.kill();const d=r,u=a,g=null==d?void 0:d.querySelector('[data-tabs="item-progress"]'),p=t[e],m=o[e],h=p.querySelector('[data-tabs="item-progress"]');null==d||d.classList.remove("active"),null==u||u.classList.remove("active"),p.classList.add("active"),m.classList.add("active");const f=gsap.timeline({defaults:{duration:.65,ease:"power3"},onComplete:()=>{r=p,a=m,s=!1,i&&function(e){l&&l.kill();const o=t[e].querySelector('[data-tabs="item-progress"]');o&&(gsap.set(o,{scaleX:0,transformOrigin:"left center"}),l=gsap.to(o,{scaleX:1,duration:n/1e3,ease:"power1.inOut",onComplete:()=>{s||c((e+1)%t.length)}}))}(e)}});d&&(d.classList.remove("active"),null==u||u.classList.remove("active"),f.set(g,{transformOrigin:"right center"}).to(g,{scaleX:0,duration:.3},0).to(u,{autoAlpha:0,xPercent:3},0).to(d.querySelector('[data-tabs="item-details"]'),{height:0},0)),p.classList.add("active"),m.classList.add("active"),f.fromTo(m,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0},.3).fromTo(p.querySelector('[data-tabs="item-details"]'),{height:0},{height:"auto"},0).set(h,{scaleX:0,transformOrigin:"left center"},0)}c(0),t.forEach(((e,t)=>e.addEventListener("click",(()=>{e!==r&&c(t)}))))}))}function d(){let e=document.querySelector(".cursor"),t=e.querySelector("p"),o=document.querySelectorAll("[data-cursor]"),i=!1,n=null,r="";gsap.set(e,{xPercent:12,yPercent:75});let a=gsap.quickTo(e,"x",{ease:"power3"}),s=gsap.quickTo(e,"y",{ease:"power3"});window.addEventListener("mousemove",(o=>{let l=window.innerWidth,c=window.innerHeight,d=window.scrollY,u=o.clientX,g=o.clientY+d,p=12,m=75;if(u>.81*l?(i=!0,p=-100):i=!1,g>d+.9*c&&(m=-120),n){let e=n.getAttribute("data-cursor");n.hasAttribute("data-easteregg")&&i&&(e=n.getAttribute("data-easteregg")),e!==r&&(t.innerHTML=e,r=e)}gsap.to(e,{xPercent:p,yPercent:m,duration:.9,ease:"power3"}),a(u),s(g-d)})),o.forEach((e=>{e.addEventListener("mouseenter",(()=>{n=e;let o=e.hasAttribute("data-easteregg")?e.getAttribute("data-easteregg"):e.getAttribute("data-cursor");o!==r&&(t.innerHTML=o,r=o)}))}))}function u(){!function(e,t){let o=document.createElement("script");o.src=e,o.type="text/javascript",o.onload=t,document.body.appendChild(o)}("https://slater.app/13164/35586.js",(function(){gsap.registerPlugin(SplitText,ScrollTrigger);const e=document.querySelector("h2.h-display");if(!e)return void console.error("Target text elements not found. Please check the selector.");console.log("Target text elements found.");const t=new SplitText(e,{type:"chars"});gsap.timeline({scrollTrigger:{trigger:".split-text-scroll-trigger",start:"top 15%",end:"+=250%",pin:!0,scrub:1,markers:!0}}).set(t.chars,{color:"#bab9b9"}).to(t.chars,{color:"#161413",duration:1,stagger:.1})}))}gsap.defaults({ease:"msc-ease",duration:.8}),e=new Lenis({lerp:.1,smooth:!0}),requestAnimationFrame((function t(o){e.raf(o),requestAnimationFrame(t)})),document.addEventListener("DOMContentLoaded",(function(){a()})),document.addEventListener("DOMContentLoaded",(()=>{c()})),barba.hooks.leave((t=>{e.destroy()})),barba.hooks.enter((e=>{window.scrollTo(0,0),"home"===e.next.namespace?i("dark"):"about"===e.next.namespace?i("light"):("work"===e.next.namespace||"styles"===e.next.namespace)&&i("dark")})),barba.init({transitions:[{name:"global-transition",leave(e){const t=gsap.timeline({onComplete:()=>{e.current.container.remove()}});return t.to(e.current.container,{autoAlpha:0,duration:.5}),t},enter(t){const o=gsap.timeline({onComplete:()=>{e.start()}});return o.from(t.next.container,{autoAlpha:0,duration:.5}),o}}],views:[{namespace:"home",beforeEnter(e){console.log("Entering home page..."),console.log("Running homepage-specific scripts."),o(),r(),a(),s(),l(),c(),d(),n(),u()},afterLeave(e){console.log("Leaving home page..."),ScrollTrigger.getAll().forEach((e=>e.kill()))}},{namespace:"about",beforeEnter(e){console.log("Entering about page..."),console.log("Running about-specific scripts."),r(),d(),n()},afterLeave(e){console.log("Leaving about page..."),ScrollTrigger.getAll().forEach((e=>e.kill()))}},{namespace:"work",beforeEnter(e){console.log("Entering work page..."),console.log("Running work-specific scripts."),r(),d(),function(e,t,o){const i=document.querySelector(e),n=document.querySelector(t),r=document.querySelector(o);console.log("Thumbnail Container:",i),console.log("Thumbnail Image:",n),console.log("Hover Image:",r),i&&n&&r?(console.log("Setting up hover effect listeners..."),i.addEventListener("mouseenter",(()=>{console.log("Mouse entered thumbnail container."),gsap.to(r,{duration:1,display:"block",opacity:1,ease:"power2.out"}),gsap.to(n,{duration:1,opacity:0,ease:"power2.out"})})),i.addEventListener("mouseleave",(()=>{console.log("Mouse left thumbnail container."),gsap.to(r,{duration:.75,display:"none",opacity:0,ease:"power2.out"}),gsap.to(n,{duration:.75,opacity:1,ease:"power2.out"})}))):console.error("Element(s) not found for selector(s)",e,t,o)}(".work-item-wrap",".work-thumb_img",".work-hover_img"),Jetboost.ReInit(),l(),s()},afterLeave(e){console.log("Leaving work page..."),ScrollTrigger.getAll().forEach((e=>e.kill()))}},{namespace:"styles",beforeEnter(e){console.log("Entering styles page..."),console.log("Running styles-specific scripts."),o(),d(),n()},afterLeave(e){console.log("Leaving styles page..."),ScrollTrigger.getAll().forEach((e=>e.kill()))}}]})}))}();
