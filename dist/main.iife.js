(function(){"use strict";document.addEventListener("DOMContentLoaded",function(){let A=!1;function V(){A||(document.addEventListener("scroll",checkThemeSection),A=!0,console.log("Theme check started; listeners reattached."))}function I(){document.removeEventListener("scroll",checkThemeSection),A=!1,console.log("Theme check stopped; listeners removed.")}CustomEase.create("msc-ease","0.625, 0.05, 0, 1");let y;gsap.defaults({ease:"msc-ease",duration:.8}),y=new Lenis({lerp:.1,smooth:!0});function x(t){y.raf(t),requestAnimationFrame(x)}requestAnimationFrame(x);function L(){let t=$(".work_item"),e=1/3*100+"%",o=2/3*100+"%";t.filter(":nth-child(odd)").each(function(i){let r=$(this),d=$(this).next(),l=$("<div class='work_row'></div>"),c=$("<div class='work_flex'></div>");l.insertBefore(r),c.appendTo(l),r.add(d).appendTo(c);let g=0;i%2!==0&&(g=1),gsap.matchMedia().add("(min-width: 992px)",()=>{let p={value:g},a=gsap.timeline({paused:!0,defaults:{ease:"none"}});a.fromTo(r,{width:o},{width:e}),a.fromTo(d,{width:e},{width:o},"<"),a.from(r.find(".work_image"),{scale:1.2},"<"),a.to(d.find(".work_image"),{scale:1.2},"<"),a.progress(g);function u(n){gsap.to(p,{value:n,ease:"sine.out",duration:.4,onUpdate:()=>a.progress(p.value)})}l.on("mousemove",function(n){let s=n.clientX/window.innerWidth;s=gsap.utils.normalize(.2,.8,s),u(s)}),l.on("mouseleave",function(n){u(g)})})})}function m(t){console.log("Changing theme to:",t);const e=gsap.timeline();return e.set("body",{attr:{"element-theme":t}}),e.to("body",{backgroundColor:"var(--color--background)",duration:.5,ease:"power2.out"}),e}function S(){function t(){var e=document.querySelectorAll("[data-theme-section]"),o=document.querySelector(".nav_bar"),i=o?o.offsetHeight/2:0;e.forEach(function(r){var d=r.getBoundingClientRect().top,l=r.getBoundingClientRect().bottom;if(d<=i&&l>=i){var c=$(r).attr("data-theme-section");m(c)}})}t(),barba.hooks.beforeLeave(()=>{I(),ScrollTrigger.getAll().forEach(e=>e.kill())}),barba.hooks.after(()=>{console.log("After transition hook triggered."),t(),V(),console.log("Theme checked and listeners started post-transition.")})}function T(){const t=document.querySelector(".nav_bar"),e=t?t.offsetHeight/2:0;ScrollTrigger.create({trigger:"[data-theme-section]",start:`top ${e}px`,toggleActions:"play none none reverse",onEnter:o=>{const i=o.trigger.getAttribute("data-theme-section");m(i)},onLeaveBack:o=>{const r=o.trigger.getAttribute("data-theme-section")==="dark"?"light":"dark";m(r)}})}function C(){document.querySelectorAll("[data-vimeo-bg-init]").forEach(function(e,o){const i=e.getAttribute("data-vimeo-video-id");if(!i)return;const r=`https://player.vimeo.com/video/${i}?api=1&background=1&autoplay=1&loop=1&muted=1`;e.querySelector("iframe").setAttribute("src",r);const d="vimeo-player-index-"+o;e.setAttribute("id",d);const l=e.id,c=new Vimeo.Player(l);c.setVolume(0),c.on("bufferend",function(){e.setAttribute("data-vimeo-activated","true"),e.setAttribute("data-vimeo-loaded","true")});let g;e.getAttribute("data-vimeo-update-size")==="true"&&c.getVideoWidth().then(function(a){c.getVideoHeight().then(function(u){g=u/a;const n=e.querySelector(".vimeo-player__before");n&&(n.style.paddingTop=g*100+"%")})});function p(){const a=e.offsetHeight/e.offsetWidth*100,u=e.querySelector(".vimeo-bg__iframe-wrapper");u&&g&&(a>g*100?u.style.width=`${a/(g*100)*100}%`:u.style.width="")}e.getAttribute("data-vimeo-update-size")==="true"?(p(),c.getVideoWidth().then(function(){c.getVideoHeight().then(function(){p()})})):p(),window.addEventListener("resize",p)})}document.addEventListener("DOMContentLoaded",function(){C()});function E(){$(".slider-main_component").each(function(t){let e=!1;$(this).attr("loop-mode")==="true"&&(e=!0);let o=450;$(this).attr("slider-duration")!==void 0&&(o=+$(this).attr("slider-duration")),new Swiper($(this).find(".swiper")[0],{speed:o,loop:e,autoHeight:!1,centeredSlides:e,followFinger:!0,freeMode:!1,slideToClickedSlide:!1,slidesPerView:1,spaceBetween:"4%",rewind:!1,mousewheel:{forceToAxis:!0},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{480:{slidesPerView:1,spaceBetween:"4%"},768:{slidesPerView:2,spaceBetween:"4%"},992:{slidesPerView:3.5,spaceBetween:"1%"}},pagination:{el:$(this).find(".swiper-bullet-wrapper")[0],bulletActiveClass:"is-active",bulletClass:"swiper-bullet",bulletElement:"button",clickable:!0},navigation:{nextEl:$(this).find(".swiper-next")[0],prevEl:$(this).find(".swiper-prev")[0],disabledClass:"is-disabled"},scrollbar:{el:$(this).find(".swiper-drag-wrapper")[0],draggable:!0,dragClass:"swiper-drag",snapOnRelease:!0},slideActiveClass:"is-active",slideDuplicateActiveClass:"is-active"})})}function P(){$(".slider-testimonial_component").each(function(t){let e=!1;$(this).attr("loop-mode")==="true"&&(e=!0);let o=450;$(this).attr("slider-duration")!==void 0&&(o=+$(this).attr("slider-duration")),new Swiper($(this).find(".swiper")[0],{speed:o,loop:e,autoHeight:!1,centeredSlides:e,followFinger:!0,freeMode:!1,slideToClickedSlide:!1,slidesPerView:1,spaceBetween:"4%",rewind:!1,mousewheel:{forceToAxis:!0},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{480:{slidesPerView:1,spaceBetween:"4%"},768:{slidesPerView:2,spaceBetween:"4%"},992:{slidesPerView:4,spaceBetween:"1%"}},pagination:{el:$(this).find(".swiper-bullet-wrapper")[0],bulletActiveClass:"is-active",bulletClass:"swiper-bullet",bulletElement:"button",clickable:!0},navigation:{nextEl:$(this).find(".swiper-next")[0],prevEl:$(this).find(".swiper-prev")[0],disabledClass:"is-disabled"},scrollbar:{el:$(this).find(".swiper-drag-wrapper")[0],draggable:!0,dragClass:"swiper-drag",snapOnRelease:!0},slideActiveClass:"is-active",slideDuplicateActiveClass:"is-active",on:{slideChange:function(){this.slides.forEach(i=>{i.classList.remove("is-active")}),this.slides[this.activeIndex].classList.add("is-active")}}})})}function q(){document.querySelectorAll('[data-tabs="wrapper"]').forEach(e=>{const o=e.querySelectorAll('[data-tabs="content-item"]'),i=e.querySelectorAll('[data-tabs="visual-item"]'),r=e.dataset.tabsAutoplay==="true",d=parseInt(e.dataset.tabsAutoplayDuration)||5e3;let l=null,c=null,g=!1,p=null;function a(n){p&&p.kill();const s=o[n].querySelector('[data-tabs="item-progress"]');s&&(gsap.set(s,{scaleX:0,transformOrigin:"left center"}),p=gsap.to(s,{scaleX:1,duration:d/1e3,ease:"power1.inOut",onComplete:()=>{if(!g){const f=(n+1)%o.length;u(f)}}}))}function u(n){if(g||o[n]===l)return;g=!0,p&&p.kill();const s=l,f=c,w=s==null?void 0:s.querySelector('[data-tabs="item-progress"]'),h=o[n],v=i[n],b=h.querySelector('[data-tabs="item-progress"]');s==null||s.classList.remove("active"),f==null||f.classList.remove("active"),h.classList.add("active"),v.classList.add("active");const B=gsap.timeline({defaults:{duration:.65,ease:"power3"},onComplete:()=>{l=h,c=v,g=!1,r&&a(n)}});s&&(s.classList.remove("active"),f==null||f.classList.remove("active"),B.set(w,{transformOrigin:"right center"}).to(w,{scaleX:0,duration:.3},0).to(f,{autoAlpha:0,xPercent:3},0).to(s.querySelector('[data-tabs="item-details"]'),{height:0},0)),h.classList.add("active"),v.classList.add("active"),B.fromTo(v,{autoAlpha:0,xPercent:3},{autoAlpha:1,xPercent:0},.3).fromTo(h.querySelector('[data-tabs="item-details"]'),{height:0},{height:"auto"},0).set(b,{scaleX:0,transformOrigin:"left center"},0)}u(0),o.forEach((n,s)=>n.addEventListener("click",()=>{n!==l&&u(s)}))})}document.addEventListener("DOMContentLoaded",()=>{q()});function k(){let t=document.querySelector(".cursor"),e=t.querySelector("p"),o=document.querySelectorAll("[data-cursor]"),i=12,r=75,d=!1,l=null,c="";gsap.set(t,{xPercent:i,yPercent:r});let g=gsap.quickTo(t,"x",{ease:"power3"}),p=gsap.quickTo(t,"y",{ease:"power3"});window.addEventListener("mousemove",a=>{let u=window.innerWidth,n=window.innerHeight,s=window.scrollY,f=a.clientX,w=a.clientY+s,h=i,v=r;if(f>u*.81?(d=!0,h=-100):d=!1,w>s+n*.9&&(v=-120),l){let b=l.getAttribute("data-cursor");l.hasAttribute("data-easteregg")&&d&&(b=l.getAttribute("data-easteregg")),b!==c&&(e.innerHTML=b,c=b)}gsap.to(t,{xPercent:h,yPercent:v,duration:.9,ease:"power3"}),g(f),p(w-s)}),o.forEach(a=>{a.addEventListener("mouseenter",()=>{l=a;let u=a.hasAttribute("data-easteregg")?a.getAttribute("data-easteregg"):a.getAttribute("data-cursor");u!==c&&(e.innerHTML=u,c=u)})})}function _(t,e,o){const i=document.querySelector(t),r=document.querySelector(e),d=document.querySelector(o);console.log("Thumbnail Container:",i),console.log("Thumbnail Image:",r),console.log("Hover Image:",d),i&&r&&d?(console.log("Setting up hover effect listeners..."),i.addEventListener("mouseenter",()=>{console.log("Mouse entered thumbnail container."),gsap.to(d,{duration:1,display:"block",opacity:1,ease:"power2.out"}),gsap.to(r,{duration:1,opacity:0,ease:"power2.out"})}),i.addEventListener("mouseleave",()=>{console.log("Mouse left thumbnail container."),gsap.to(d,{duration:.75,display:"none",opacity:0,ease:"power2.out"}),gsap.to(r,{duration:.75,opacity:1,ease:"power2.out"})})):console.error("Element(s) not found for selector(s)",t,e,o)}function O(t,e){let o=document.createElement("script");o.src=t,o.type="text/javascript",o.onload=e,document.body.appendChild(o)}function D(){O("https://slater.app/13164/35586.js",function(){gsap.registerPlugin(SplitText,ScrollTrigger);const e=document.querySelector("h2.h-display");if(e)console.log("Target text elements found.");else{console.error("Target text elements not found. Please check the selector.");return}const o=new SplitText(e,{type:"chars"});gsap.timeline({scrollTrigger:{trigger:".split-text-scroll-trigger",start:"top 15%",end:"+=250%",pin:!0,scrub:1,markers:!0}}).set(o.chars,{color:"#bab9b9"}).to(o.chars,{color:"#161413",duration:1,stagger:.1})})}barba.hooks.leave(t=>{y.destroy()}),barba.hooks.enter(t=>{window.scrollTo(0,0),t.next.namespace==="home"?m("dark"):t.next.namespace==="about"?m("light"):(t.next.namespace==="work"||t.next.namespace==="styles")&&m("dark")}),barba.init({transitions:[{name:"global-transition",leave(t){const e=gsap.timeline({onComplete:()=>{t.current.container.remove()}});return e.to(t.current.container,{autoAlpha:0,duration:.5}),e},enter(t){const e=gsap.timeline({onComplete:()=>{y.start()}});return e.from(t.next.container,{autoAlpha:0,duration:.5}),e}}],views:[{namespace:"home",beforeEnter(t){console.log("Entering home page..."),console.log("Running homepage-specific scripts."),L(),S(),C(),E(),P(),q(),k(),T(),D()},afterLeave(t){console.log("Leaving home page..."),ScrollTrigger.getAll().forEach(e=>e.kill())}},{namespace:"about",beforeEnter(t){console.log("Entering about page..."),console.log("Running about-specific scripts."),S(),k(),T()},afterLeave(t){console.log("Leaving about page..."),ScrollTrigger.getAll().forEach(e=>e.kill())}},{namespace:"work",beforeEnter(t){console.log("Entering work page..."),console.log("Running work-specific scripts."),S(),k(),_(".work-item-wrap",".work-thumb_img",".work-hover_img"),Jetboost.ReInit(),P(),E()},afterLeave(t){console.log("Leaving work page..."),ScrollTrigger.getAll().forEach(e=>e.kill())}},{namespace:"styles",beforeEnter(t){console.log("Entering styles page..."),console.log("Running styles-specific scripts."),L(),k(),T()},afterLeave(t){console.log("Leaving styles page..."),ScrollTrigger.getAll().forEach(e=>e.kill())}}]})})})();
